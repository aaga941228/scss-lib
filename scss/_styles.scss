@import "breakpoints";
@import "variables";
@import "colors";
@import "fonts";

@each $name,
$properties in $rules {

  @each $property,
  $alias in $properties {

    @each $bkp-key,
    $bkp-value in $breakpoints {
      @if ($bkp-value) {
        .#{$alias}-#{$bkp-key} {
          @media (max-width: $bkp-value) {
            #{$name}: #{$property};
          }
        }
      }

      @else {
        .#{$alias} {
          #{$name}: #{$property};
        }
      }
    }
  }
}

@each $v,
$combined-rule in $combined-rules {

  @each $alias,
  $rules in $combined-rule {

    @each $breakpoint-key,
    $breakpoint-value in $breakpoints {

      @if ($breakpoint-value) {
        .#{$alias}-#{$breakpoint-key} {

          @media (max-width: $breakpoint-value) {

            @each $rule,
            $property in $rules {
              #{$rule}: #{$property};
            }
          }
        }
      }

      @else {
        .#{$alias} {

          @each $rule,
          $property in $rules {
            #{$rule}: #{$property};
          }
        }
      }
    }
  }
}

@include font-face(Bitter, fonts/Bitter-VariableFont_wght, null, normal, ttf);
@include font-face(Montserrat,
  fonts/Montserrat-VariableFont_wght,
  null,
  normal,
  ttf);